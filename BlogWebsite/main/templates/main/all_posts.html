{% extends 'main/base.html' %}
{% block title %} Blogger Website {% endblock %}


{% block content %}

    <div class="head">

        <div class="d-flex justify-content-between align-items-center">
            <h2>{% if "cat" in request.GET %}{{request.GET.cat}}{% else %}All{% endif %} Posts ({{ posts.count }}) </h2>
            
            <div class="d-flex gap-2">
                <a href="{% url 'main:all_posts_view' %}" class="p-2 ps-3 pe-3 rounded-pill cat
                 {% if active_cat == "All" %}active{% endif %} text-decoration-none">All</a>
                {% for val, key in categories %}
                    <a href="?cat={{val}}" class="p-2 ps-3 pe-3 rounded-pill cat
                    {% if active_cat == val %}active{% endif %} text-decoration-none">{{val}}</a>
                {% endfor %}
            </div>
        </div>
    </div >

    <div class="columns">
            {% for post in posts %}
                <a href="{% url "main:post_detail_view" post.id%}">
                    <div class="card post">
                    <img src="{{ post.poster.url }}" alt="" srcset="">
                    <h4>{{ post.title }}</h4>
                    <div class="d-flex justify-content-between align-items-center">
                    <h6>{{post.published_at}}</h6>
                    <h6 class="cat {{post.category}}">{{post.category}}</h6>
                    </div>
                    {% if post.is_published %} 
                    <p style="color:green;"> Published </p>
                    {% else %}
                    <p style="color:red;"> Not Published</p>
                    {% endif %}                    
                    </div> 
                </a>
            {% endfor %}
        </div>

{% endblock %}